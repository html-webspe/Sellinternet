"use strict";$(document).ready(function(){function e(){var t,e,a,s,i=$(window).outerWidth();$(window).outerHeight();t=i,e=$(".header-menu"),a=$(".header-menu__nav"),s=$(".header-menu__mobile"),t<986?a.hasClass("done")||a.addClass("done").appendTo(s):a.hasClass("done")&&a.removeClass("done").appendTo(e)}function i(t,e){$(".popup").removeClass("active").hide(),$(".header-menu").hasClass("active")||$("body").data("scroll",$(window).scrollTop()),o.any()?setTimeout(function(){$("body").addClass("lock")},300):($("body").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()}).addClass("lock"),$(".pdb").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()})),history.pushState("","","#"+t),""!=e&&null!=e&&$(".popup-"+t+" .popup-video__value").html('<iframe src="https://www.youtube.com/embed/'+e+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'),$(".popup-"+t).fadeIn(300).delay(300).addClass("active"),0<$(".popup-"+t).find(".slick-slider").length&&$(".popup-"+t).find(".slick-slider").slick("setPosition")}function a(){$(".popup").removeClass("active").fadeOut(300),$(".header-menu").hasClass("active")||(o.any()?($("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))):(setTimeout(function(){$("body").css({paddingRight:0}),$(".pdb").css({paddingRight:0})},200),setTimeout(function(){$("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))},200))),$(".popup-video__value").html(""),history.pushState("","",window.location.href.split("#")[0])}function r(t){if(t.addClass("err"),t.parent().addClass("err"),t.parent().find(".form__error").remove(),t.hasClass("email")){var e="";null!=(e=(""==t.val()||(t.val(),t.attr("data-value")),t.data("error")))&&t.parent().append('<div class="form__error">'+e+"</div>")}else null!=t.data("error")&&0==t.parent().find(".form__error").length&&t.parent().append('<div class="form__error">'+t.data("error")+"</div>");0<t.parents(".select-block").length&&(t.parents(".select-block").parent().addClass("err"),t.parents(".select-block").find(".select").addClass("err"))}function n(t){t.removeClass("err"),t.parent().removeClass("err"),t.parent().find(".form__error").remove(),0<t.parents(".select-block").length&&(t.parents(".select-block").parent().removeClass("err"),t.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}function s(t){""==t.val()&&(t.inputmask("remove"),t.val(t.attr("data-value")),t.removeClass("focus"),t.parent().removeClass("focus"))}$(window).outerWidth(),$(window).outerHeight();var t=window.navigator.userAgent,o=(t.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return o.Android()||o.BlackBerry()||o.iOS()||o.Opera()||o.Windows()}});(-1<(t=navigator.userAgent).indexOf("MSIE ")||-1<t.indexOf("Trident/"))&&$("body").addClass("ie"),o.any()&&$("body").addClass("touch"),$(".header-menu__icon").click(function(t){$(this).toggleClass("active"),$(".header-menu__mobile").toggleClass("active")}),$(window).resize(function(t){e()}),e(),$(".pl").click(function(t){return i($(this).attr("href").replace("#",""),$(this).data("vid")),!1}),$(".popup-close,.popup__close").click(function(t){return a(),!1}),$(".popup").click(function(t){if(!$(t.target).is(".popup>.popup-table>.cell *")||$(t.target).is(".popup-close")||$(t.target).is(".popup__close"))return a(),!1}),$(document).on("keydown",function(t){27==t.which&&a()}),$("input,textarea").focus(function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),n($(this))}),$("input[data-value], textarea[data-value]").each(function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click(function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")}),$(this).blur(function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))})}),$(".form-input__viewpass").click(function(t){$(this).hasClass("active")?$(this).parent().find("input").attr("type","password"):$(this).parent().find("input").attr("type","text"),$(this).toggleClass("active")}),$.each($("input.phone"),function(t,e){$(this).attr("type","tel"),$(this).focus(function(){$(this).inputmask("+38(999) 999 9999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){s($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")})}),$("input.phone").focusout(function(t){s($(this))}),$.each($("input.num"),function(t,e){$(this).focus(function(){$(this).inputmask("9{1,1000}",{clearIncomplete:!0,placeholder:"",clearMaskOnLostFocus:!0,onincomplete:function(){s($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")})}),$("input.num").focusout(function(t){s($(this))}),$(".form-addfile__input").change(function(a){if(""!=$(this).val()){var s=$(this);s.parents(".form-addfile").find("ul.form-addfile-list").html(""),$.each(a.target.files,function(t,e){0==s.parents(".form-addfile").find('ul.form-addfile-list>li:contains("'+a.target.files[t].name+'")').length&&s.parents(".form-addfile").find("ul.form-addfile-list").append("<li>"+a.target.files[t].name+"</li>")})}}),$("form button[type=submit]").click(function(){var t,a=0,e=$(this).parents("form"),s=e.data("ms");return $.each(e.find(".req"),function(t,e){a+=function(t){var e=0,a=t.parents("form");if("email"==t.attr("name")||t.hasClass("email")){if(t.val()!=t.attr("data-value")){var s=t.val().replace(" ","");t.val(s)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.val())&&t.val()!=t.attr("data-value")?n(t):(e++,r(t))}else""==t.val()||t.val()==t.attr("data-value")?(e++,r(t)):n(t);return"checkbox"==t.attr("type")&&(1==t.prop("checked")?t.removeClass("err").parent().removeClass("err"):(e++,t.addClass("err").parent().addClass("err"))),t.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(t.val())||(e++,r(t))),t.hasClass("pass-2")&&(a.find(".pass-1").val()!=a.find(".pass-2").val()?r(t):n(t)),e}($(this))}),0==a&&(e.find(".form__generalerror").hide().html(""),null!=s&&""!=s?(t=s,$(".popup").hide(),i("message."+t,""),!1):void 0)}),$(window).scroll(function(t){var e,a=$(this).scrollTop();e=a,$(window).outerWidth(),$(window).outerHeight(),130<e?$(".header-middle").addClass("scroll"):$(".header-middle").removeClass("scroll")}),$(window).scroll(function(){$(window).width();50<$(window).scrollTop()?$("#up").fadeIn(300):$("#up").fadeOut(300)}),$("#up").click(function(t){$("body,html").animate({scrollTop:0},300)}),$(".goto").click(function(){var t=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+t).offset().top+0},500,function(){}),$(".header-menu__mobile").hasClass("active")&&($(".header-menu__mobile,.header-menu__icon").removeClass("active"),$("body").removeClass("lock")),!1}),$(".video-play").click(function(){$("#video").get(0).play(),$(this).fadeOut(),$(".video__poster").fadeOut()});var l=document.querySelectorAll(".price-content__price-count");l.forEach(function(i){!function t(){var e=+i.getAttribute("data-target"),a=+Math.round(i.innerText),s=Math.round(e/130);a<e?(i.innerText=a+s,setTimeout(t,10)):i.innerText=e}()})});