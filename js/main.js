"use strict";$(document).ready(function(){function t(){var e,t,a,s,r=$(window).outerWidth();$(window).outerHeight();e=r,t=$(".header-menu"),a=$(".header-menu__nav"),s=$(".header-menu__mobile"),e<986?a.hasClass("done")||a.addClass("done").appendTo(s):a.hasClass("done")&&a.removeClass("done").appendTo(t)}function r(e,t){$(".popup").removeClass("active").hide(),$(".header-menu").hasClass("active")||$("body").data("scroll",$(window).scrollTop()),n.any()?setTimeout(function(){$("body").addClass("lock")},300):($("body").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()}).addClass("lock"),$(".pdb").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()})),history.pushState("","","#"+e),""!=t&&null!=t&&$(".popup-"+e+" .popup-video__value").html('<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'),$(".popup-"+e).fadeIn(300).delay(300).addClass("active"),0<$(".popup-"+e).find(".slick-slider").length&&$(".popup-"+e).find(".slick-slider").slick("setPosition")}function a(){$(".popup").removeClass("active").fadeOut(300),$(".header-menu").hasClass("active")||(n.any()?($("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))):(setTimeout(function(){$("body").css({paddingRight:0}),$(".pdb").css({paddingRight:0})},200),setTimeout(function(){$("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))},200))),$(".popup-video__value").html(""),history.pushState("","",window.location.href.split("#")[0])}function o(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var t="";null!=(t=(""==e.val()||(e.val(),e.attr("data-value")),e.data("error")))&&e.parent().append('<div class="form__error">'+t+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");0<e.parents(".select-block").length&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function i(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),0<e.parents(".select-block").length&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}function s(e){""==e.val()&&(e.inputmask("remove"),e.val(e.attr("data-value")),e.removeClass("focus"),e.parent().removeClass("focus"))}$(window).outerWidth(),$(window).outerHeight();var e=window.navigator.userAgent,n=(e.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}});(-1<(e=navigator.userAgent).indexOf("MSIE ")||-1<e.indexOf("Trident/"))&&$("body").addClass("ie"),n.any()&&$("body").addClass("touch"),$(".header-menu__icon").click(function(e){$(this).toggleClass("active"),$(".header-menu__mobile").toggleClass("active")}),$(window).resize(function(e){t()}),t(),$(".pl").click(function(e){return r($(this).attr("href").replace("#",""),$(this).data("vid")),!1}),$(".popup-close,.popup__close").click(function(e){return a(),!1}),$(".popup").click(function(e){if(!$(e.target).is(".popup>.popup-table>.cell *")||$(e.target).is(".popup-close")||$(e.target).is(".popup__close"))return a(),!1}),$(document).on("keydown",function(e){27==e.which&&a()}),$("input,textarea").focus(function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),i($(this))}),$("input[data-value], textarea[data-value]").each(function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click(function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")}),$(this).blur(function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))})}),$(".form-input__viewpass").click(function(e){$(this).hasClass("active")?$(this).parent().find("input").attr("type","password"):$(this).parent().find("input").attr("type","text"),$(this).toggleClass("active")}),$.each($("input.phone"),function(e,t){$(this).attr("type","tel"),$(this).focus(function(){$(this).inputmask("+38(999) 999 9999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){s($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")})}),$("input.phone").focusout(function(e){s($(this))}),$.each($("input.num"),function(e,t){$(this).focus(function(){$(this).inputmask("9{1,1000}",{clearIncomplete:!0,placeholder:"",clearMaskOnLostFocus:!0,onincomplete:function(){s($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")})}),$("input.num").focusout(function(e){s($(this))}),$(".form-addfile__input").change(function(a){if(""!=$(this).val()){var s=$(this);s.parents(".form-addfile").find("ul.form-addfile-list").html(""),$.each(a.target.files,function(e,t){0==s.parents(".form-addfile").find('ul.form-addfile-list>li:contains("'+a.target.files[e].name+'")').length&&s.parents(".form-addfile").find("ul.form-addfile-list").append("<li>"+a.target.files[e].name+"</li>")})}}),$("form button[type=submit]").click(function(){var e,a=0,t=$(this).parents("form"),s=t.data("ms");return $.each(t.find(".req"),function(e,t){a+=function(e){var t=0,a=e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var s=e.val().replace(" ","");e.val(s)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e.val())&&e.val()!=e.attr("data-value")?i(e):(t++,o(e))}else""==e.val()||e.val()==e.attr("data-value")?(t++,o(e)):i(e);return"checkbox"==e.attr("type")&&(1==e.prop("checked")?e.removeClass("err").parent().removeClass("err"):(t++,e.addClass("err").parent().addClass("err"))),e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(t++,o(e))),e.hasClass("pass-2")&&(a.find(".pass-1").val()!=a.find(".pass-2").val()?o(e):i(e)),t}($(this))}),0==a&&(t.find(".form__generalerror").hide().html(""),null!=s&&""!=s?(e=s,$(".popup").hide(),r("message."+e,""),!1):void 0)}),$(window).scroll(function(e){var t,a=$(this).scrollTop();t=a,$(window).outerWidth(),$(window).outerHeight(),130<t?$(".header-middle").addClass("scroll"):$(".header-middle").removeClass("scroll")}),$(window).scroll(function(){$(window).width();50<$(window).scrollTop()?$("#up").fadeIn(300):$("#up").fadeOut(300)}),$("#up").click(function(e){$("body,html").animate({scrollTop:0},300)}),$(".goto").click(function(){var e=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+e).offset().top+0},500,function(){}),$(".header-menu__mobile").hasClass("active")&&($(".header-menu__mobile,.header-menu__icon").removeClass("active"),$("body").removeClass("lock")),!1}),$(".video-play").click(function(){$("#video").get(0).play(),$(this).fadeOut(),$(".video__poster").fadeOut()});var l=document.querySelectorAll(".price-content__price-count");l.forEach(function(r){!function e(){var t=+r.getAttribute("data-target"),a=+Math.round(r.innerText),s=Math.round(t/130);a<t?(r.innerText=a+s,setTimeout(e,10)):r.innerText=t}()}),$(function(){$("#scroll").niceScroll("#scroll-text",{cursorfixedheight:100,cursorcolor:"#527EDF",cursorwidth:"5px",background:"",autohidemode:!1,bouncescroll:!1,cursorborderradius:"10px",scrollspeed:10,mousescrollstep:10,directionlockdeadzone:0,cursorborder:"0px solid #fff"})}),$(function(){$("#scroll-1").niceScroll("#scroll-text-1",{cursorfixedheight:40,cursorcolor:"#527EDF",cursorwidth:"5px",background:"",autohidemode:!1,bouncescroll:!1,cursorborderradius:"10px",scrollspeed:10,mousescrollstep:10,directionlockdeadzone:0,cursorborder:"0px solid #fff"})})});